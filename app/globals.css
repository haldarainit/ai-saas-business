@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    /* Terminal Colors - Light Theme Default/Fallback */
    --bolt-elements-terminal-backgroundColor: #ffffff;
    --bolt-elements-terminal-textColor: #333333;
    --bolt-elements-terminal-cursorColor: #333333;
    --bolt-elements-terminal-selection-backgroundColor: #00000040;
    --bolt-elements-terminal-color-black: #000000;
    --bolt-elements-terminal-color-red: #cd3131;
    --bolt-elements-terminal-color-green: #00bc00;
    --bolt-elements-terminal-color-yellow: #949800;
    --bolt-elements-terminal-color-blue: #0451a5;
    --bolt-elements-terminal-color-magenta: #bc05bc;
    --bolt-elements-terminal-color-cyan: #0598bc;
    --bolt-elements-terminal-color-white: #555555;
    --bolt-elements-terminal-color-brightBlack: #686868;
    --bolt-elements-terminal-color-brightRed: #cd3131;
    --bolt-elements-terminal-color-brightGreen: #00bc00;
    --bolt-elements-terminal-color-brightYellow: #949800;
    --bolt-elements-terminal-color-brightBlue: #0451a5;
    --bolt-elements-terminal-color-brightMagenta: #bc05bc;
    --bolt-elements-terminal-color-brightCyan: #0598bc;
    --bolt-elements-terminal-color-brightWhite: #a5a5a5;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 220 85% 54%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;

    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    /* Terminal Colors - Dark Theme */
    --bolt-elements-terminal-backgroundColor: #0f172a; /* depth-1 */
    --bolt-elements-terminal-textColor: #eff0eb;
    --bolt-elements-terminal-cursorColor: #eff0eb;
    --bolt-elements-terminal-selection-backgroundColor: #97979b33;
    --bolt-elements-terminal-color-black: #000000;
    --bolt-elements-terminal-color-red: #ff5c57;
    --bolt-elements-terminal-color-green: #5af78e;
    --bolt-elements-terminal-color-yellow: #f3f99d;
    --bolt-elements-terminal-color-blue: #57c7ff;
    --bolt-elements-terminal-color-magenta: #ff6ac1;
    --bolt-elements-terminal-color-cyan: #9aedfe;
    --bolt-elements-terminal-color-white: #f1f1f0;
    --bolt-elements-terminal-color-brightBlack: #686868;
    --bolt-elements-terminal-color-brightRed: #ff5c57;
    --bolt-elements-terminal-color-brightGreen: #5af78e;
    --bolt-elements-terminal-color-brightYellow: #f3f99d;
    --bolt-elements-terminal-color-brightBlue: #57c7ff;
    --bolt-elements-terminal-color-brightMagenta: #ff6ac1;
    --bolt-elements-terminal-color-brightCyan: #9aedfe;
    --bolt-elements-terminal-color-brightWhite: #f1f1f0;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 220 85% 54%;
    --primary-foreground: 210 40% 98%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 224.3 76.3% 48%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Scrollbar Hide Utility */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}
.scrollbar-hide {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

/* Light mode grid background */
.grid-background {
  background-image:
    linear-gradient(to right, rgba(36, 101, 237, 0.2) 0.5px, transparent 0.5px),
    linear-gradient(to bottom, rgba(36, 101, 237, 0.2) 0.5px, transparent 0.5px) !important;
  background-size: 80px 80px !important;
}

.grid-gradient {
  background: radial-gradient(
    70% 70% at 50% 50%,
    transparent 0%,
    rgba(36, 101, 237, 0.05) 100%
  ) !important;
}

/* Dark mode adjustments for the grid background */
.dark .grid-background {
  background-image:
    linear-gradient(to right, rgba(36, 101, 237, 0.2) 0.5px, transparent 0.5px),
    linear-gradient(to bottom, rgba(36, 101, 237, 0.2) 0.5px, transparent 0.5px) !important;
  background-size: 80px 80px !important;
}

.dark .grid-gradient {
  background: radial-gradient(
    70% 70% at 50% 50%,
    transparent 0%,
    rgba(36, 101, 237, 0.05) 100%
  ) !important;
}

/* Card styling improvements for dark mode */
.dark .card {
  background-color: hsl(var(--card));
  border-color: hsl(var(--border));
}

.dark .card-description {
  color: hsl(var(--muted-foreground));
}

/* Frosted glass effect */
.frost-glass {
  @apply backdrop-blur-md border shadow-sm;
  /* Light mode specific */
  @apply bg-white/80 border-primary/10 text-gray-800 shadow-[0_4px_20px_rgba(36,101,237,0.2)];
  /* Dark mode specific */
  @apply dark:bg-black/20 dark:border-white/10 dark:text-white dark:shadow-[0_4px_20px_rgba(36,101,237,0.3)];
}

/* Input focus effect */
.frost-glass-input:focus {
  @apply border-primary/30 ring-2 ring-primary/20 ring-offset-0;
}

/* Glassmorphism 3D Spinner Animation */
@keyframes glassmorphismSpin {
  0% {
    transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1);
  }
  25% {
    transform: rotateX(15deg) rotateY(90deg) rotateZ(90deg) scale(1.05);
  }
  50% {
    transform: rotateX(0deg) rotateY(180deg) rotateZ(180deg) scale(1.1);
  }
  75% {
    transform: rotateX(-15deg) rotateY(270deg) rotateZ(270deg) scale(1.05);
  }
  100% {
    transform: rotateX(0deg) rotateY(360deg) rotateZ(360deg) scale(1);
  }
}

/* 3D Rotating Abstract Shape Animation */
@keyframes abstractRotate {
  0% {
    transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg);
  }
  25% {
    transform: rotateX(90deg) rotateY(90deg) rotateZ(90deg);
  }
  50% {
    transform: rotateX(180deg) rotateY(180deg) rotateZ(180deg);
  }
  75% {
    transform: rotateX(270deg) rotateY(270deg) rotateZ(270deg);
  }
  100% {
    transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg);
  }
}

/* Utility classes for 3D transforms */
.perspective-1000 {
  perspective: 1000px;
}

.transform-style-preserve-3d {
  transform-style: preserve-3d;
}

.animate-abstract-rotate {
  animation: abstractRotate 4s linear infinite;
}

/* 3D transform utilities */
.translate-z-10 {
  transform: translateZ(40px);
}

.translate-z-neg-10 {
  transform: translateZ(-40px);
}

.rotate-y-180 {
  transform: rotateY(180deg);
}

.rotate-y-90 {
  transform: rotateY(90deg);
}

.rotate-y-neg-90 {
  transform: rotateY(-90deg);
}

.rotate-x-90 {
  transform: rotateX(90deg);
}

.rotate-x-neg-90 {
  transform: rotateX(-90deg);
}

.translate-x-10 {
  transform: translateX(40px);
}

.translate-x-neg-10 {
  transform: translateX(-40px);
}

.translate-y-neg-10 {
  transform: translateY(-40px);
}

.translate-y-10 {
  transform: translateY(40px);
}

/* 3D Logo Spinner Animations */
@keyframes logoSpin3D {
  0% {
    transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1);
  }
  25% {
    transform: rotateX(10deg) rotateY(90deg) rotateZ(45deg) scale(1.05);
  }
  50% {
    transform: rotateX(0deg) rotateY(180deg) rotateZ(90deg) scale(1.1);
  }
  75% {
    transform: rotateX(-10deg) rotateY(270deg) rotateZ(135deg) scale(1.05);
  }
  100% {
    transform: rotateX(0deg) rotateY(360deg) rotateZ(180deg) scale(1);
  }
}

@keyframes logoShadow3D {
  0%,
  100% {
    transform: translateY(0px) scale(1);
    opacity: 0.6;
  }
  50% {
    transform: translateY(4px) scale(1.1);
    opacity: 0.3;
  }
}

@keyframes orbitSlow {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes orbitFast {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes float1 {
  0%,
  100% {
    transform: translateY(0px) translateX(0px);
    opacity: 0.8;
  }
  25% {
    transform: translateY(-12px) translateX(8px);
    opacity: 0.6;
  }
  50% {
    transform: translateY(-8px) translateX(16px);
    opacity: 0.4;
  }
  75% {
    transform: translateY(-16px) translateX(4px);
    opacity: 0.7;
  }
}

@keyframes float2 {
  0%,
  100% {
    transform: translateY(0px) translateX(0px);
    opacity: 0.6;
  }
  33% {
    transform: translateY(-10px) translateX(-10px);
    opacity: 0.8;
  }
  66% {
    transform: translateY(-5px) translateX(-15px);
    opacity: 0.4;
  }
}

@keyframes float3 {
  0%,
  100% {
    transform: translateY(0px) translateX(0px);
    opacity: 0.7;
  }
  40% {
    transform: translateY(-14px) translateX(12px);
    opacity: 0.5;
  }
  80% {
    transform: translateY(-7px) translateX(18px);
    opacity: 0.9;
  }
}

/* Animation utility classes */
.animate-logo-spin-3d {
  animation: logoSpin3D 3s ease-in-out infinite;
}

.animate-logo-shadow-3d {
  animation: logoShadow3D 3s ease-in-out infinite;
}

.animate-orbit-slow {
  animation: orbitSlow 8s linear infinite;
}

.animate-orbit-fast {
  animation: orbitFast 4s linear infinite;
}

.animate-float-1 {
  animation: float1 4s ease-in-out infinite;
}

.animate-float-2 {
  animation: float2 5s ease-in-out infinite;
}

.animate-float-3 {
  animation: float3 3.5s ease-in-out infinite;
}

/* Simple Y-axis rotation */
@keyframes rotateY {
  0% {
    transform: rotateY(0deg);
  }
  100% {
    transform: rotateY(360deg);
  }
}

.animate-rotate-y-smooth {
  animation: rotateY 1.6s linear infinite;
}

/* Custom Dialog Scrollbar - Elegant and subtle */
.custom-dialog-scroll::-webkit-scrollbar {
  width: 6px;
}
.custom-dialog-scroll::-webkit-scrollbar-track {
  background: transparent;
}
.custom-dialog-scroll::-webkit-scrollbar-thumb {
  background: rgba(59, 130, 246, 0.2);
  border-radius: 3px;
  transition: background-color 0.2s ease;
}
.custom-dialog-scroll::-webkit-scrollbar-thumb:hover {
  background: rgba(59, 130, 246, 0.4);
}
.dark .custom-dialog-scroll::-webkit-scrollbar-thumb {
  background: rgba(59, 130, 246, 0.3);
}
.dark .custom-dialog-scroll::-webkit-scrollbar-thumb:hover {
  background: rgba(59, 130, 246, 0.5);
}
.custom-dialog-scroll {
  scrollbar-width: thin;
  scrollbar-color: rgba(59, 130, 246, 0.2) transparent;
}
.dark .custom-dialog-scroll {
  scrollbar-color: rgba(59, 130, 246, 0.3) transparent;
}

/* ============================================ */
/* Builder-specific Styles (bolt.diy-style)    */
/* ============================================ */

/* Modern scrollbar for builder */
.modern-scrollbar::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.modern-scrollbar::-webkit-scrollbar-track {
  background: rgba(30, 41, 59, 0.5);
  border-radius: 4px;
}

.modern-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(100, 116, 139, 0.5);
  border-radius: 4px;
}

.modern-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(100, 116, 139, 0.7);
}

/* Code editor styles */
.cm-editor {
  height: 100% !important;
}

.cm-scroller {
  overflow: auto !important;
}

.cm-content {
  font-family:
    "JetBrains Mono", "Fira Code", "Monaco", "Menlo", monospace !important;
}

/* Terminal styles */
.terminal-container {
  font-family: "JetBrains Mono", "Fira Code", "Monaco", "Menlo", monospace;
}

/* Resize handles */
[data-panel-resize-handle-id] {
  position: relative;
  z-index: 10;
}

[data-panel-resize-handle-id]::before {
  content: "";
  position: absolute;
  inset: -2px;
}

/* Animation keyframes for builder */
@keyframes pulse-glow {
  0%,
  100% {
    box-shadow: 0 0 5px rgba(249, 115, 22, 0.2);
  }
  50% {
    box-shadow: 0 0 20px rgba(249, 115, 22, 0.4);
  }
}

.pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

/* Markdown prose styles for dark mode in builder */
.prose-invert h1,
.prose-invert h2,
.prose-invert h3,
.prose-invert h4,
.prose-invert h5,
.prose-invert h6 {
  color: #f8fafc;
}

.prose-invert p {
  color: #cbd5e1;
}

.prose-invert strong {
  color: #f8fafc;
}

.prose-invert code {
  color: #fb923c;
  background: rgba(30, 41, 59, 0.8);
  padding: 0.125rem 0.375rem;
  border-radius: 0.25rem;
  font-size: 0.875em;
}

.prose-invert pre code {
  color: inherit;
  background: transparent;
  padding: 0;
}

.prose-invert a {
  color: #fb923c;
}

.prose-invert a:hover {
  color: #fdba74;
}

.prose-invert ul,
.prose-invert ol {
  color: #cbd5e1;
}

.prose-invert blockquote {
  color: #94a3b8;
  border-left-color: #475569;
}

/* File tree styles */
.file-tree-item {
  transition: background-color 0.1s ease;
}

.file-tree-item:hover {
  background-color: rgba(71, 85, 105, 0.3);
}

.file-tree-item.selected {
  background-color: rgba(249, 115, 22, 0.2);
}

/* Preview frame */
.preview-frame {
  background: white;
  border-radius: 0;
}

/* Glass effect for builder */
.builder-glass {
  background: rgba(15, 23, 42, 0.8);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* Diff view styles */
.diff-added {
  background-color: rgba(34, 197, 94, 0.1);
}

.diff-removed {
  background-color: rgba(239, 68, 68, 0.1);
}

.diff-added-line {
  color: #4ade80;
}

.diff-removed-line {
  color: #f87171;
  text-decoration: line-through;
  opacity: 0.7;
}


/* Streaming text animation */
@keyframes blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}

.cursor-blink {
  display: inline-block;
  margin-left: 2px;
}

.cursor-blink::after {
  content: "â–‹";
  animation: blink 1s step-start infinite;
  color: rgb(249, 115, 22); /* Orange-500 to match theme */
}
